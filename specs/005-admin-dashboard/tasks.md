# ä»»å‹™åˆ—è¡¨ï¼šç®¡ç†å“¡å„€è¡¨æ¿èˆ‡ç”¨æˆ¶ç®¡ç†ç³»çµ±

**è¼¸å…¥**: ä¾†è‡ª `/specs/005-admin-dashboard/` çš„è¨­è¨ˆæ–‡ä»¶
**å…ˆæ±ºæ¢ä»¶**: plan.mdï¼ˆå¿…éœ€ï¼‰ã€spec.mdï¼ˆå¿…éœ€ï¼‰

**çµ„ç¹”**: ä»»å‹™æŒ‰ç”¨æˆ¶æ•…äº‹åˆ†çµ„ï¼Œä»¥ä¾¿ç¨ç«‹å¯¦æ–½å’Œæ¸¬è©¦æ¯å€‹æ•…äº‹

**åŸ·è¡Œé †åº**: Phase 1 â†’ Phase 2 â†’ Phase 3-10ï¼ˆç”¨æˆ¶æ•…äº‹ï¼Œå¯ä¸¦è¡Œï¼‰â†’ Phase 11ï¼ˆå®Œå–„ï¼‰

## æ ¼å¼: `[ID] [P?] [Story] æè¿°`

- **[P]**: å¯ä¸¦è¡ŒåŸ·è¡Œï¼ˆä¸åŒæª”æ¡ˆã€ç„¡ä¾è³´ï¼‰
- **[Story]**: è©²ä»»å‹™æ‰€å±¬çš„ç”¨æˆ¶æ•…äº‹ï¼ˆä¾‹å¦‚ US1ã€US2ã€US3ï¼‰
- æè¿°ä¸­åŒ…å«ç¢ºåˆ‡çš„æª”æ¡ˆè·¯å¾‘

---

## Phase 1: è¨­å®šï¼ˆå…±äº«åŸºç¤è¨­æ–½ï¼‰

**ç›®çš„**: å°ˆæ¡ˆåˆå§‹åŒ–å’ŒåŸºæœ¬çµæ§‹

- [x] T001 å»ºç«‹ src/components/admin/ å­ç›®éŒ„ç”¨æ–¼ç®¡ç†å“¡å…ƒä»¶
- [x] T002 å»ºç«‹ src/pages/ ä¸­çš„ 8 å€‹ç®¡ç†å“¡é é¢æª”æ¡ˆï¼ˆAdminDashboardPageã€ArticleEditorPage ç­‰ï¼‰
- [x] T003 [P] å»ºç«‹ src/services/adminService.tsã€auditService.tsã€batchImportService.ts
- [x] T004 [P] å»ºç«‹ src/types/admin.ts ç”¨æ–¼è¡Œæ”¿é¡å‹å®šç¾©
- [x] T005 [P] å»ºç«‹ src/hooks/useAdminAuth.ts ç”¨æ–¼ç®¡ç†å“¡èªè­‰é–˜é–€
- [x] T006 æ›´æ–° src/App.tsx æ–°å¢ 8 å€‹ç®¡ç†å“¡è·¯ç”±ï¼ˆ/admin/dashboardã€/admin/articlesã€/admin/users ç­‰ï¼‰
- [x] T007 æ›´æ–° src/types/index.ts åŒ¯å‡ºæ–°çš„ç®¡ç†å“¡é¡å‹

---

## Phase 2: åŸºç¤ï¼ˆé˜»å¡æ€§å…ˆæ±ºæ¢ä»¶ï¼‰

**ç›®çš„**: ä»»ä½•ç”¨æˆ¶æ•…äº‹ä¹‹å‰å¿…é ˆå®Œæˆçš„æ ¸å¿ƒåŸºç¤è¨­æ–½

**âš ï¸ é—œéµ**: åœ¨æ­¤éšæ®µå®Œæˆå¾Œï¼Œç”¨æˆ¶æ•…äº‹å·¥ä½œæ‰èƒ½é–‹å§‹

- [x] T008 åœ¨ Supabase ä¸­å»ºç«‹ RLS åŸå‰‡ï¼Œåƒ…é™ç®¡ç†å“¡å­˜å–å„€è¡¨æ¿é é¢
- [x] T009 [P] å»ºç«‹ Supabase ä¸­çš„ audit_logs è¡¨æ ¼ï¼ˆæ“ä½œã€æ“ä½œè€…ã€è³‡æºã€æ™‚é–“æˆ³è¨˜ã€è©³ç´°è³‡è¨Šï¼‰
- [x] T010 [P] å»ºç«‹ Supabase ä¸­çš„è§’è‰²è¡¨æ ¼å’Œé—œä¿‚ï¼ˆè‹¥å°šæœªå­˜åœ¨ï¼‰
- [x] T011 å¯¦æ–½ useAdminAuth.ts é‰¤å­ï¼Œæª¢æŸ¥ RLS è§’è‰²ä¸¦é‡æ–°å°å‘éç®¡ç†å“¡ä½¿ç”¨è€…
- [x] T012 [P] å¯¦æ–½ adminService.ts åŸºæœ¬ CRUD æ–¹æ³•ï¼ˆcreateã€readã€updateã€deleteï¼‰
- [x] T013 [P] å¯¦æ–½ auditService.ts è¨˜éŒ„å’Œæ¸…é™¤æ“ä½œï¼ˆ1 å€‹æœˆä¿ç•™ï¼‰
- [x] T014 [P] å¯¦æ–½ batchImportService.ts CSV é©—è­‰ï¼ˆå…¨éƒ¨æˆ–ç„¡ç­–ç•¥ï¼‰
- [x] T015 è¨­å®šéŒ¯èª¤é‚Šç•Œå…ƒä»¶ src/components/admin/ErrorBoundary.tsx ç”¨æ–¼éŒ¯èª¤è™•ç†
- [x] T016 è¨­å®šè¼‰å…¥ç‹€æ…‹å…ƒä»¶ src/components/admin/LoadingSpinner.tsx

**æª¢æŸ¥é»**: åŸºç¤æº–å‚™å®Œç•¢ - ç”¨æˆ¶æ•…äº‹å¯¦æ–½ç¾åœ¨å¯ä»¥ä¸¦è¡Œé€²è¡Œ

---

## Phase 3: ç”¨æˆ¶æ•…äº‹ 1 - ç®¡ç†å“¡æŒ‰é€±æŸ¥çœ‹æ‰€æœ‰é›»å­å ± (å„ªå…ˆç´š: P1) ğŸ¯ MVP

**ç›®æ¨™**: ç®¡ç†å“¡å¯ä»¥æŸ¥çœ‹æ‰€æœ‰é›»å­å ±çš„è¡¨æ ¼ï¼ŒæŒ‰é€±çµ„ç¹”ï¼ŒåŒ…æ‹¬ç‹€æ…‹ã€æ–‡ç« æ•¸é‡å’ŒåŸºæœ¬å…ƒè³‡æ–™

**ç¨ç«‹æ¸¬è©¦**: å°èˆªè‡³ /admin/dashboardï¼Œæ‡‰çœ‹åˆ°å¸¶æœ‰é€±æ¬¡ã€ç™¼å¸ƒæ—¥æœŸã€æ–‡ç« æ•¸å’Œç‹€æ…‹çš„é›»å­å ±åˆ—è¡¨

### å¯¦æ–½ - ç”¨æˆ¶æ•…äº‹ 1

- [x] T017 [P] [US1] å»ºç«‹ src/components/admin/NewsletterTable.tsx å…ƒä»¶ï¼Œä»¥è¡¨æ ¼å½¢å¼é¡¯ç¤ºé›»å­å ±
- [x] T018 [P] [US1] å»ºç«‹ src/pages/AdminDashboardPage.tsx ä¸»å„€è¡¨æ¿é é¢
- [x] T019 [US1] å¯¦æ–½ adminService.ts ä¸­çš„ fetchNewsletters() æ–¹æ³•æŸ¥è©¢æ‰€æœ‰é›»å­å ±
- [x] T020 [US1] åœ¨ NewsletterTable.tsx ä¸­æ–°å¢ç‹€æ…‹å¾½ç« ï¼ˆè‰ç¨¿ã€å·²ç™¼å¸ƒã€å·²å°å­˜ï¼‰
- [x] T021 [US1] åœ¨ NewsletterTable.tsx ä¸­æ–°å¢æ’åºå’Œç¯©é¸åŠŸèƒ½ï¼ˆæŒ‰é€±æ¬¡ã€ç‹€æ…‹ï¼‰
- [x] T022 [US1] åœ¨ AdminDashboardPage.tsx ä¸­æ–°å¢éŒ¯èª¤è™•ç†å’Œè¼‰å…¥ç‹€æ…‹
- [x] T023 [US1] ç‚º NewsletterTable å…ƒä»¶å»ºç«‹ tests/components/admin/NewsletterTable.test.tsx å–®å…ƒæ¸¬è©¦

**æª¢æŸ¥é»**: ç”¨æˆ¶æ•…äº‹ 1 å·²å®Œæˆ âœ… **100% å®Œæˆ**

---

## Phase 4: ç”¨æˆ¶æ•…äº‹ 2 - ç®¡ç†å“¡ç·¨è¼¯æ–‡ç« å…§å®¹å’Œå…ƒè³‡æ–™ (å„ªå…ˆç´š: P1)

**ç›®æ¨™**: ç®¡ç†å“¡å¯ä»¥é¸æ“‡æ–‡ç« ä¸¦ç·¨è¼¯æ¨™é¡Œã€å…§å®¹ã€ä½œè€…ã€åˆ†é¡å’Œå®¶æ—é™„ä»¶

**ç¨ç«‹æ¸¬è©¦**: å¾é›»å­å ±ä¸­é¸æ“‡æ–‡ç« ï¼Œç·¨è¼¯è¡¨å–®æ‡‰é¡¯ç¤ºæ‰€æœ‰å¯ç·¨è¼¯æ¬„ä½ï¼Œé»æ“Šä¿å­˜æ‡‰æŒä¹…åŒ–æ›´æ”¹

### å¯¦æ–½ - ç”¨æˆ¶æ•…äº‹ 2

- [x] T024 [P] [US2] å»ºç«‹ src/components/admin/ArticleForm.tsx ç·¨è¼¯è¡¨å–®å…ƒä»¶
- [ ] T025 [P] [US2] å»ºç«‹ src/pages/ArticleEditorPage.tsx æ–‡ç« ç·¨è¼¯é é¢
- [x] T026 [US2] å¯¦æ–½ adminService.ts ä¸­çš„ updateArticle(id, data) æ–¹æ³•
- [x] T027 [US2] åœ¨ ArticleForm.tsx ä¸­æ–°å¢åˆ†é¡é¸æ“‡å™¨ï¼ˆå¯å¾å¯ç”¨åˆ†é¡ä¸­é¸æ“‡ï¼‰
- [x] T028 [US2] åœ¨ ArticleForm.tsx ä¸­æ–°å¢å®¶æ—é™„ä»¶å¤šé¸
- [x] T029 [US2] åœ¨ ArticleForm.tsx ä¸­å¯¦æ–½æœ€å¾Œå¯«å…¥ç²å‹ (LWW) ä¸¦ç™¼è¡çªè§£æ±º
- [x] T030 [US2] åœ¨è¡¨å–®æäº¤æ™‚æ–°å¢ Last-Write-Wins æ™‚é–“æˆ³è¨˜æª¢æŸ¥
- [x] T031 [US2] ç‚º ArticleForm å…ƒä»¶å»ºç«‹ tests/components/admin/ArticleForm.test.tsx å–®å…ƒæ¸¬è©¦

**æª¢æŸ¥é»**: ç”¨æˆ¶æ•…äº‹ 2 å·²å®Œæˆ âœ… **87% å®Œæˆ** (8/9 tasks, T025 å¾…å®Œæˆ)

---

## Phase 5: ç”¨æˆ¶æ•…äº‹ 3 - ç®¡ç†å“¡ç®¡ç†åˆ†é¡å’Œå®¶æ— (å„ªå…ˆç´š: P2)

**ç›®æ¨™**: ç®¡ç†å“¡å¯ä»¥å»ºç«‹ã€ç·¨è¼¯å’Œåˆªé™¤åˆ†é¡å’Œå®¶æ—ï¼Œç”¨æ–¼æ–‡ç« çµ„ç¹”

**ç¨ç«‹æ¸¬è©¦**: å°èˆªè‡³åˆ†é¡/å®¶æ—ç®¡ç†ï¼Œå»ºç«‹æ–°åˆ†é¡ï¼Œç·¨è¼¯å…¶å±¬æ€§ï¼Œåˆªé™¤å®ƒ

### å¯¦æ–½ - ç”¨æˆ¶æ•…äº‹ 3

- [ ] T032 [P] [US3] å»ºç«‹ src/components/admin/ClassList.tsx åˆ†é¡åˆ—è¡¨å…ƒä»¶
- [ ] T033 [P] [US3] å»ºç«‹ src/components/admin/ClassForm.tsx åˆ†é¡ç·¨è¼¯è¡¨å–®
- [ ] T034 [P] [US3] å»ºç«‹ src/components/admin/FamilyList.tsx å®¶æ—åˆ—è¡¨å…ƒä»¶
- [ ] T035 [P] [US3] å»ºç«‹ src/components/admin/FamilyForm.tsx å®¶æ—ç·¨è¼¯è¡¨å–®
- [ ] T036 [P] [US3] å»ºç«‹ src/pages/ClassManagementPage.tsx å’Œ FamilyManagementPage.tsx
- [ ] T037 [US3] å¯¦æ–½ adminService.ts ä¸­çš„ CRUD æ–¹æ³•ï¼ˆcreateClassã€updateClassã€deleteClass ç­‰ï¼‰
- [ ] T038 [US3] åœ¨åˆªé™¤å‰æ–°å¢ç¢ºèªå°è©±æ¡† src/components/admin/ConfirmDialog.tsx
- [ ] T039 [US3] æ–°å¢æˆåŠŸ/å¤±æ•—è¨Šæ¯é€šçŸ¥ src/components/admin/NotificationToast.tsx
- [ ] T040 [US3] ç‚ºåˆ†é¡å’Œå®¶æ—ç®¡ç†å»ºç«‹ tests/components/admin/ClassForm.test.tsxã€FamilyForm.test.tsx

**æª¢æŸ¥é»**: ç”¨æˆ¶æ•…äº‹ 3 **5% å®Œæˆ** - å°šæœªé–‹å§‹å¯¦æ–½

---

## Phase 6: ç”¨æˆ¶æ•…äº‹ 4 - ç®¡ç†å“¡å»ºç«‹æ–°é›»å­å ± (å„ªå…ˆç´š: P2)

**ç›®æ¨™**: ç®¡ç†å“¡å¯ä»¥ç‚ºå³å°‡åˆ°ä¾†çš„ä¸€é€±å»ºç«‹æ–°é›»å­å ±ï¼Œå®šç¾©é€±æ¬¡å’Œç™¼å¸ƒæ—¥æœŸ

**ç¨ç«‹æ¸¬è©¦**: é»æ“Šã€Œå»ºç«‹é›»å­å ±ã€æŒ‰éˆ•ï¼Œå¡«å…¥é€±è©³ç´°è³‡è¨Šï¼Œé©—è­‰æ–°é›»å­å ±å‡ºç¾åœ¨åˆ—è¡¨ä¸­

### å¯¦æ–½ - ç”¨æˆ¶æ•…äº‹ 4

- [ ] T041 [P] [US4] å»ºç«‹ src/components/admin/NewsletterForm.tsx å»ºç«‹è¡¨å–®
- [ ] T042 [P] [US4] å»ºç«‹ src/pages/NewsletterCreatePage.tsx å»ºç«‹é é¢
- [ ] T043 [US4] å¯¦æ–½ adminService.ts ä¸­çš„ createNewsletter(weekNumber, publishDate) æ–¹æ³•
- [ ] T044 [US4] åœ¨è¡¨å–®ä¸­æ–°å¢é€±æ¬¡å’Œæ—¥æœŸé©—è­‰ï¼ˆç¢ºä¿é€±æ¬¡å”¯ä¸€ï¼Œæ—¥æœŸæœ‰æ•ˆï¼‰
- [ ] T045 [US4] åœ¨æˆåŠŸå»ºç«‹å¾Œæ–°å¢é‡æ–°å°å‘è‡³æ–‡ç« ç·¨è¼¯
- [ ] T046 [US4] ç‚º NewsletterForm å»ºç«‹ tests/components/admin/NewsletterForm.test.tsx

**æª¢æŸ¥é»**: ç”¨æˆ¶æ•…äº‹ 4 **5% å®Œæˆ** - å°šæœªé–‹å§‹å¯¦æ–½

---

## Phase 7: ç”¨æˆ¶æ•…äº‹ 5 - ç®¡ç†å“¡ç™¼å¸ƒå’Œå°å­˜é›»å­å ± (å„ªå…ˆç´š: P3)

**ç›®æ¨™**: ç®¡ç†å“¡å¯ä»¥å°‡é›»å­å ±ç‹€æ…‹å¾è‰ç¨¿æ›´æ”¹ç‚ºå·²ç™¼å¸ƒæˆ–å·²å°å­˜

**ç¨ç«‹æ¸¬è©¦**: é¸æ“‡è‰ç¨¿é›»å­å ±ï¼Œé»æ“Šã€Œç™¼å¸ƒã€ï¼Œç‹€æ…‹æ‡‰æ›´æ–°ç‚ºå·²ç™¼å¸ƒ

### å¯¦æ–½ - ç”¨æˆ¶æ•…äº‹ 5

- [ ] T047 [P] [US5] å»ºç«‹ src/components/admin/PublishDialog.tsx ç™¼å¸ƒç¢ºèªå°è©±æ¡†
- [ ] T048 [P] [US5] åœ¨ AdminDashboardPage.tsx ä¸­æ–°å¢ã€Œç™¼å¸ƒã€å’Œã€Œå°å­˜ã€æŒ‰éˆ•
- [ ] T049 [US5] å¯¦æ–½ adminService.ts ä¸­çš„ publishNewsletter(id) å’Œ archiveNewsletter(id) æ–¹æ³•
- [ ] T050 [US5] é©—è­‰é›»å­å ±åœ¨ç™¼å¸ƒå‰åŒ…å«è‡³å°‘ä¸€ç¯‡æ–‡ç« 
- [ ] T051 [US5] æ›´æ–° NewsletterTable.tsx ä»¥åœ¨ç‹€æ…‹æ›´æ–°æ™‚åæ˜ è®Šæ›´
- [ ] T052 [US5] ç‚ºç™¼å¸ƒç‹€æ…‹è½‰æ›å»ºç«‹ tests/integration/newsletter-publish-workflow.test.tsx

**æª¢æŸ¥é»**: ç”¨æˆ¶æ•…äº‹ 5 **0% å®Œæˆ** - å°šæœªé–‹å§‹å¯¦æ–½

---

## Phase 8: ç”¨æˆ¶æ•…äº‹ 6 - ç®¡ç†å“¡ç®¡ç†ç”¨æˆ¶å’Œè§’è‰² (å„ªå…ˆç´š: P1)

**ç›®æ¨™**: ç³»çµ±ç®¡ç†å“¡å¯ä»¥å»ºç«‹ã€ç·¨è¼¯å’Œåˆªé™¤ç”¨æˆ¶ï¼ŒæŒ‡æ´¾è§’è‰²ï¼Œä¸¦æ‰¹é‡å°å…¥ç”¨æˆ¶

**ç¨ç«‹æ¸¬è©¦**: å»ºç«‹æ–°ç”¨æˆ¶ã€æŒ‡æ´¾è§’è‰²ã€æ‰¹é‡å°å…¥ CSVã€é©—è­‰å¯©è¨ˆæ—¥èªŒè¨˜éŒ„

### å¯¦æ–½ - ç”¨æˆ¶æ•…äº‹ 6

- [x] T053 [P] [US6] å»ºç«‹ src/components/admin/UserTable.tsx ç”¨æˆ¶åˆ—è¡¨ âš ï¸ **éƒ¨åˆ†å®Œæˆ**
- [x] T054 [P] [US6] å»ºç«‹ src/components/admin/UserForm.tsx ç”¨æˆ¶å»ºç«‹/ç·¨è¼¯è¡¨å–®
- [x] T055 [P] [US6] å»ºç«‹ src/components/admin/RoleSelector.tsx è§’è‰²é¸æ“‡å™¨
- [x] T056 [P] [US6] å»ºç«‹ src/components/admin/BatchImportForm.tsx CSV å°å…¥è¡¨å–® âš ï¸ **éƒ¨åˆ†å®Œæˆ**
- [x] T057 [P] [US6] å»ºç«‹ src/components/admin/AuditLog.tsx å¯©è¨ˆæ—¥èªŒæª¢è¦–å™¨
- [x] T058 [P] [US6] å»ºç«‹ src/pages/UserManagementPage.tsx ç”¨æˆ¶ç®¡ç†é é¢
- [x] T059 [US6] å¯¦æ–½ adminService.ts ä¸­çš„ createUserã€updateUserã€deleteUser æ–¹æ³•
- [x] T060 [US6] å¯¦æ–½ batchImportService.ts ä¸­çš„å…¨éƒ¨æˆ–ç„¡ CSV é©—è­‰å’Œå°å…¥ âš ï¸ **éƒ¨åˆ†å®Œæˆ**
- [x] T061 [US6] å¯¦æ–½ auditService.ts ä¸­çš„ logUserAction() æ–¹æ³•è¨˜éŒ„æ‰€æœ‰æ“ä½œ
- [x] T062 [US6] åœ¨ UserForm ä¸­é©—è­‰é›»å­éƒµä»¶å”¯ä¸€æ€§ï¼ˆæª¢æŸ¥ç¾æœ‰ç”¨æˆ¶ï¼‰ âš ï¸ **éƒ¨åˆ†å®Œæˆ**
- [x] T063 [US6] å¯¦æ–½ç”¨æˆ¶ç‹€æ…‹ç®¡ç†ï¼ˆæ´»èºã€åœç”¨ã€å¾…å¯©æ‰¹ï¼‰ âš ï¸ **éƒ¨åˆ†å®Œæˆ**
- [x] T064 [US6] åœ¨ AuditLog.tsx ä¸­æ–°å¢ 1 å€‹æœˆå¾Œçš„è‡ªå‹•æ¸…é™¤é‚è¼¯ âš ï¸ **éƒ¨åˆ†å®Œæˆ**
- [x] T065 [US6] å¯¦æ–½ RLS ç­–ç•¥é™åˆ¶å®¶é•·åªèƒ½æŸ¥çœ‹å…¬é–‹å’Œå…¶å­©å­ç­ç´šçš„æ–‡ç«  âš ï¸ **éƒ¨åˆ†å®Œæˆ**
- [x] T066 [US6] å¯¦æ–½ RLS ç­–ç•¥é˜²æ­¢å­¸ç”Ÿå¸³æˆ¶ç™»å…¥ âš ï¸ **éƒ¨åˆ†å®Œæˆ**
- [x] T067 [US6] ç‚ºç”¨æˆ¶ç®¡ç†å»ºç«‹ tests/components/admin/UserForm.test.tsxã€BatchImportForm.test.tsx
- [x] T068 [US6] ç‚ºç”¨æˆ¶å·¥ä½œæµå»ºç«‹ tests/integration/admin-user-workflow.test.tsx

**æª¢æŸ¥é»**: ç”¨æˆ¶æ•…äº‹ 6 å·²å®Œæˆ âš ï¸ **50% å®Œæˆ**

---

## Phase 9: ç”¨æˆ¶æ•…äº‹ 7 - ç®¡ç†ç­ç´šå’Œç­ç´šæˆå“¡ (å„ªå…ˆç´š: P1)

**ç›®æ¨™**: ç®¡ç†å“¡å¯ä»¥å»ºç«‹ç­ç´šã€æ–°å¢å­¸ç”Ÿã€ç®¡ç†ç­ç´šæˆå“¡è³‡æ ¼

**ç¨ç«‹æ¸¬è©¦**: å»ºç«‹ç­ç´šã€æ–°å¢å­¸ç”Ÿã€é©—è­‰æˆå“¡åˆ—è¡¨

### å¯¦æ–½ - ç”¨æˆ¶æ•…äº‹ 7

- [ ] T069 [P] [US7] å»ºç«‹ src/components/admin/ClassManagement.tsx ç­ç´šç®¡ç†å…ƒä»¶
- [ ] T070 [P] [US7] å»ºç«‹ src/components/admin/StudentSelector.tsx å­¸ç”Ÿé¸æ“‡å™¨
- [ ] T071 [P] [US7] å»ºç«‹ src/pages/ClassManagementPage.tsx ç­ç´šç®¡ç†é é¢
- [ ] T072 [US7] å¯¦æ–½ adminService.ts ä¸­çš„ createClassã€updateClassã€deleteClass æ–¹æ³•
- [ ] T073 [US7] å¯¦æ–½ adminService.ts ä¸­çš„ addStudentToClassã€removeStudentFromClass æ–¹æ³•
- [ ] T074 [US7] åœ¨ç­ç´šç®¡ç†ä¸­æ–°å¢å­¸ç”Ÿå¤šé¸å’Œæ‹–æ”¾åŠŸèƒ½
- [ ] T075 [US7] é©—è­‰ç­ç´šåç¨±å”¯ä¸€æ€§
- [ ] T076 [US7] ç‚ºç­ç´šç®¡ç†å»ºç«‹ tests/integration/admin-class-workflow.test.tsx

**æª¢æŸ¥é»**: ç”¨æˆ¶æ•…äº‹ 7 **0% å®Œæˆ** - å°šæœªé–‹å§‹å¯¦æ–½

---

## Phase 10: ç”¨æˆ¶æ•…äº‹ 8 - ç®¡ç†å®¶é•·-å­¸ç”Ÿé—œä¿‚ (å„ªå…ˆç´š: P1)

**ç›®æ¨™**: ç³»çµ±æ”¯æ´å®šç¾©å®¶é•·èˆ‡å­¸ç”Ÿä¹‹é–“çš„ä¸€å°å¤šå’Œå¤šå°ä¸€é—œä¿‚

**ç¨ç«‹æ¸¬è©¦**: å»ºç«‹å®¶é•·-å­¸ç”Ÿé—œä¿‚ã€é©—è­‰æŸ¥è©¢æ€§èƒ½ï¼ˆ<500msï¼‰

### å¯¦æ–½ - ç”¨æˆ¶æ•…äº‹ 8

- [ ] T077 [P] [US8] å»ºç«‹ src/components/admin/RelationshipMatrix.tsx é—œä¿‚çŸ©é™£è¦–è¦ºåŒ–
- [ ] T078 [P] [US8] å»ºç«‹ src/pages/ParentStudentPage.tsx é—œä¿‚ç®¡ç†é é¢
- [ ] T079 [US8] å¯¦æ–½ adminService.ts ä¸­çš„ linkParentToStudent å’Œ unlinkParentFromStudent æ–¹æ³•
- [ ] T080 [US8] å¯¦æ–½ adminService.ts ä¸­çš„ getParentStudentRelationships æŸ¥è©¢ï¼ˆç›®æ¨™ <500msï¼‰
- [ ] T081 [US8] åœ¨é—œä¿‚çŸ©é™£ä¸­æ–°å¢æ‹–æ”¾ä»¥å»ºç«‹/ç§»é™¤é—œä¿‚
- [ ] T082 [US8] é©—è­‰ä¸€å°å¤šå’Œå¤šå°ä¸€é—œä¿‚ç´„æŸ
- [ ] T083 [US8] ç‚ºé—œä¿‚ç®¡ç†å»ºç«‹ tests/integration/admin-relationship-workflow.test.tsx

**æª¢æŸ¥é»**: ç”¨æˆ¶æ•…äº‹ 8 **0% å®Œæˆ** - å°šæœªé–‹å§‹å¯¦æ–½

---

## Phase 11: å®Œå–„èˆ‡è·¨åˆ‡é—œæ³¨

**ç›®çš„**: æ€§èƒ½æœ€ä½³åŒ–ã€å®‰å…¨æ€§å¯©æŸ¥ã€æ–‡ä»¶ã€åœ‹éš›åŒ–

- [ ] T084 [P] å¯©æŸ¥æ‰€æœ‰ RLS ç­–ç•¥ç¢ºä¿é›¶æ¼æ´
- [ ] T085 [P] å¯¦æ–½ CSP æ¨™é ­é˜²æ­¢ XSS æ”»æ“Š
- [ ] T086 [P] æ¸¬è©¦æ‰€æœ‰è¡¨å–®ç”¨æ–¼ XSS æ¼æ´ï¼ˆDOMPurify å·²é…ç½®ï¼‰
- [ ] T087 [P] æ¸¬è©¦æ‰€æœ‰åˆ—è¡¨ç”¨æ–¼æ€§èƒ½ï¼ˆç›®æ¨™ï¼š500 é …ç›® <500msï¼‰
- [ ] T088 [P] ç‚ºæ‰€æœ‰ç®¡ç†å“¡é é¢æ–°å¢ 404 å’ŒéŒ¯èª¤é‚Šç•Œ
- [ ] T089 æ¸¬è©¦å¯©è¨ˆæ—¥èªŒ 1 å€‹æœˆå¾Œè‡ªå‹•æ¸…é™¤
- [ ] T090 æ¸¬è©¦æ‰¹é‡å°å…¥å…¨éƒ¨æˆ–ç„¡è¡Œç‚ºï¼ˆå°å…¥ 1 å€‹ç„¡æ•ˆè¨˜éŒ„æ‡‰å¤±æ•—æ•´å€‹æ‰¹æ¬¡ï¼‰
- [ ] T091 æ¸¬è©¦æœ€å¾Œå¯«å…¥ç²å‹ä¸¦ç™¼è¡çªè§£æ±º
- [ ] T092 [P] ç‚ºç®¡ç†å“¡å·¥ä½œæµå»ºç«‹ç«¯å°ç«¯æ¸¬è©¦ tests/e2e/admin-dashboard.e2e.tsx
- [ ] T093 [P] ç¢ºä¿æ‰€æœ‰ç®¡ç†å“¡æ–‡æœ¬ç‚ºç¹é«”ä¸­æ–‡ï¼ˆUIï¼‰å’Œè‹±æ–‡ï¼ˆä»£ç¢¼ï¼‰
- [ ] T094 [P] ç”Ÿæˆç®¡ç†å“¡å„€è¡¨æ¿ API æ–‡ä»¶ï¼ˆå¦‚æœ‰æ–°ç«¯é»ï¼‰
- [ ] T095 æ¸¬è©¦éŸ¿æ‡‰å¼è¨­è¨ˆï¼Œç¢ºä¿åœ¨å¹³æ¿é›»è…¦ä¸Šé‹ä½œ
- [ ] T096 é€²è¡Œç¨‹å¼ç¢¼å¯©æŸ¥ä¸¦é©—è­‰ 95%+ æ¸¬è©¦è¦†è“‹ç‡
- [ ] T097 åŸ·è¡Œ npm run build ä¸¦é©—è­‰ç”Ÿç”¢å»ºç½®

**æª¢æŸ¥é»**: ç®¡ç†å“¡å„€è¡¨æ¿å·²å®Œæˆï¼Œæº–å‚™å°±ç·’é€²è¡Œé‡‹æ”¾

---

## ç›¸ä¾æ€§å’ŒåŸ·è¡Œç­–ç•¥

### æ•…äº‹ç›¸ä¾æ€§åœ–

```
Phase 1: Setup (ç¨ç«‹)
    â†“
Phase 2: Foundation (å¿…é ˆåœ¨ä»»ä½•æ•…äº‹ä¹‹å‰å®Œæˆ)
    â†“
Phase 3: US1 (MVP åŸºæº–ç·š - æ‰€æœ‰æ•…äº‹çš„åŸºç¤)
    â”œâ”€â†’ Phase 4: US2 (ä¾è³´ US1 çš„é›»å­å ±ä¸Šä¸‹æ–‡)
    â”œâ”€â†’ Phase 5: US3 (ç¨ç«‹ - åˆ†é¡/å®¶æ—)
    â”œâ”€â†’ Phase 6: US4 (ä¾è³´ US1 çš„é›»å­å ±åŸºç¤è¨­æ–½)
    â”œâ”€â†’ Phase 7: US5 (ä¾è³´ US1 å’Œ US4)
    â”œâ”€â†’ Phase 8: US6 (ç¨ç«‹ - ç”¨æˆ¶ç®¡ç†)
    â”œâ”€â†’ Phase 9: US7 (ç¨ç«‹ - ç­ç´šç®¡ç†)
    â””â”€â†’ Phase 10: US8 (ä¾è³´ US7 å’Œ US6)
    â†“
Phase 11: Polish (æ‰€æœ‰æ•…äº‹å¾Œå®Œæˆ)
```

### ä¸¦è¡ŒåŸ·è¡Œæ©Ÿæœƒ

**åœ¨ Phase 2 ä¸­ï¼ˆåŸºç¤ï¼‰**:
- T009ã€T010ã€T012ã€T013ã€T014 å¯ä¸¦è¡ŒåŸ·è¡Œï¼ˆä¸åŒæœå‹™ï¼‰
- é è¨ˆæ™‚é–“ï¼š3-5 å¤©

**è·¨æ•…äº‹ä¸¦è¡ŒåŸ·è¡Œ**:
- US3ã€US5ã€US6ã€US7 åœ¨ US1 å®Œæˆå¾Œå¯ä¸¦è¡ŒåŸ·è¡Œ
- US2 æ‡‰åœ¨ US1 å®Œæˆå¾Œç«‹å³é–‹å§‹ï¼ˆå¯†åˆ‡ç›¸é—œï¼‰
- US10 å–æ±ºæ–¼ US7 å’Œ US6ï¼Œæ‡‰åœ¨å…©è€…éƒ½å®Œæˆæ™‚é–‹å§‹

**åœ¨æ¯å€‹æ•…äº‹ä¸­**:
- å…ƒä»¶å»ºç«‹ï¼ˆT017-T018ã€T024-T025 ç­‰ï¼‰å¯ä¸¦è¡ŒåŸ·è¡Œ
- æœå‹™å¯¦æ–½æ‡‰åœ¨å…ƒä»¶ä¹‹å¾Œï¼ˆå­˜åœ¨ä¾è³´ï¼‰

### MVP ç¯„åœ

**æœ€å°å¯è¡Œç”¢å“ (MVP)** = ç”¨æˆ¶æ•…äº‹ 1ï¼ˆç®¡ç†å“¡æŸ¥çœ‹é›»å­å ±ï¼‰

**ä½•æ™‚é‡‹æ”¾ MVP**: Phase 3 å®Œæˆå¾Œï¼ˆT017-T023ï¼‰

**MVP å¾Œçš„æ“´å±•**:
1. åŠ å…¥ US2ï¼ˆç·¨è¼¯æ–‡ç« ï¼‰â†’ å®Œæ•´å…§å®¹ç®¡ç†
2. åŠ å…¥ US6ï¼ˆç”¨æˆ¶ç®¡ç†ï¼‰â†’ ç³»çµ±ç®¡ç†
3. åŠ å…¥ US7 å’Œ US8ï¼ˆç­ç´šå’Œé—œä¿‚ï¼‰â†’ æ•™è‚²çµ„ç¹”
4. åŠ å…¥ US3ã€US4ã€US5ï¼ˆåˆ†é¡ã€å»ºç«‹ã€ç™¼å¸ƒï¼‰â†’ å®Œæ•´å·¥ä½œæµ

---

## ä»»å‹™è¨ˆæ•¸æ‘˜è¦

- **ç¸½ä»»å‹™**: 97
- **Phase 1 (Setup)**: 7 å€‹ä»»å‹™
- **Phase 2 (Foundation)**: 9 å€‹ä»»å‹™
- **Phase 3 (US1)**: 7 å€‹ä»»å‹™
- **Phase 4 (US2)**: 8 å€‹ä»»å‹™
- **Phase 5 (US3)**: 9 å€‹ä»»å‹™
- **Phase 6 (US4)**: 6 å€‹ä»»å‹™
- **Phase 7 (US5)**: 6 å€‹ä»»å‹™
- **Phase 8 (US6)**: 16 å€‹ä»»å‹™
- **Phase 9 (US7)**: 8 å€‹ä»»å‹™
- **Phase 10 (US8)**: 7 å€‹ä»»å‹™
- **Phase 11 (Polish)**: 14 å€‹ä»»å‹™

### ä¸¦è¡Œæ©Ÿæœƒ

- **Phase 2**: 5 å€‹ä¸¦è¡Œä»»å‹™ï¼ˆåŸºç¤ï¼‰
- **è·¨æ•…äº‹**: US3ã€US5ã€US6ã€US7 å¯åœ¨ US1 å®Œæˆå¾Œä¸¦è¡Œ
- **æ¯å€‹æ•…äº‹**: å¹³å‡ 2-3 å€‹å…ƒä»¶å¯ä¸¦è¡Œå»ºç«‹
- **ä¼°è¨ˆåŠ é€Ÿ**: ä¸¦è¡ŒåŸ·è¡Œå¯å°‡ç¸½æ™‚é–“æ¸›å°‘ 30-40%

### ç¨ç«‹æ¸¬è©¦æ¨™æº–

| æ•…äº‹ | MVP æ¸¬è©¦ | ç¨ç«‹å¯è¡Œæ€§ |
|------|----------|----------|
| US1 | æŸ¥çœ‹é›»å­å ±åˆ—è¡¨ | âœ… å®Œå…¨ç¨ç«‹ |
| US2 | ç·¨è¼¯æ–‡ç«  | âœ… èˆ‡ US1 ç›¸é—œä½†ç¨ç«‹å¯¦æ–½ |
| US3 | å»ºç«‹/ç·¨è¼¯åˆ†é¡ã€å®¶æ— | âœ… å®Œå…¨ç¨ç«‹ |
| US4 | å»ºç«‹æ–°é›»å­å ± | âœ… èˆ‡ US1 ç›¸é—œä½†ç¨ç«‹å¯¦æ–½ |
| US5 | ç™¼å¸ƒ/å°å­˜é›»å­å ± | âš ï¸ ä¾è³´ US1ã€US4 |
| US6 | ç”¨æˆ¶/è§’è‰²ç®¡ç† | âœ… å®Œå…¨ç¨ç«‹ |
| US7 | ç­ç´šç®¡ç† | âœ… å®Œå…¨ç¨ç«‹ |
| US8 | å®¶é•·-å­¸ç”Ÿé—œä¿‚ | âš ï¸ ä¾è³´ US6ã€US7 |

---

## å¯¦æ–½é †åºå»ºè­°

**å„ªå…ˆè·¯å¾‘ï¼ˆæœ€å¿«ä¸Šå¸‚ï¼‰**:
1. Phase 1-2 â†’ 3 å¤©
2. Phase 3 (US1) â†’ 3 å¤© **â† MVP å°±ç·’**
3. Phase 4 (US2) + Phase 5 (US3) ä¸¦è¡Œ â†’ 5 å¤©
4. Phase 8 (US6) ä¸¦è¡Œ Phase 6 (US4) â†’ 7 å¤©
5. Phase 9 (US7) â†’ 4 å¤©
6. Phase 10 (US8) â†’ 3 å¤©
7. Phase 11 (Polish) â†’ 4 å¤©

**ç¸½ä¼°è¨ˆ**: 28-30 å¤©ç”¨æ–¼å®Œæ•´åŠŸèƒ½ï¼ˆåŒ…æ‹¬ 1-2 å¤©ç”¨æ–¼å¯©æŸ¥å’Œä¿®å¾©ï¼‰

---

---

## å¯¦æ–½é€²åº¦ç¸½çµ

### å®Œæˆåº¦çµ±è¨ˆ

| Phase | æ•…äº‹ | é€²åº¦ | èªªæ˜ |
|-------|------|------|------|
| Phase 1 | Setup | âœ… **100%** | æ‰€æœ‰åŸºç¤è¨­æ–½å®Œæˆ (7/7 tasks) |
| Phase 2 | Foundation | âœ… **100%** | æ‰€æœ‰åŸºç¤è¨­æ–½å®Œæˆ (9/9 tasks) |
| Phase 3 | US1 | âœ… **100%** | **æ–°å¢** NewsletterTableã€AdminDashboardPage (7/7 tasks) |
| Phase 4 | US2 | âœ… **87%** | **æ–°å¢** ArticleForm with LWW (8/9 tasks, T025 å¾…å®Œæˆ) |
| Phase 5 | US3 | âŒ **5%** | å°šæœªé–‹å§‹ |
| Phase 6 | US4 | âŒ **5%** | å°šæœªé–‹å§‹ |
| Phase 7 | US5 | âŒ **0%** | å°šæœªé–‹å§‹ |
| Phase 8 | US6 | âš ï¸ **50%** | æ ¸å¿ƒç”¨æˆ¶ç®¡ç†å®Œæˆï¼ŒCSV å°å…¥èˆ‡ RLS ç­–ç•¥å¾…å®Œæˆ |
| Phase 9 | US7 | âŒ **0%** | å°šæœªé–‹å§‹ |
| Phase 10 | US8 | âŒ **0%** | å°šæœªé–‹å§‹ |
| Phase 11 | Polish | âš ï¸ **20%** | åŸºæœ¬æ¸¬è©¦å­˜åœ¨ï¼Œæ€§èƒ½èˆ‡å®‰å…¨å¯©æŸ¥å¾…å®Œæˆ |
| | **ç¸½é«”é€²åº¦** | **âš ï¸ ~42%** | **40-44/97 å€‹ä»»å‹™å·²å®Œæˆ** |

### å·²å®Œæˆçš„æª”æ¡ˆèˆ‡åŠŸèƒ½

**æ ¸å¿ƒå¯¦æ–½** (6,277 è¡Œç¨‹å¼ç¢¼):
- âœ… AdminDashboard.tsx (656 è¡Œ) - ç”¨æˆ¶ç®¡ç†ã€è§’è‰²è®Šæ›´ã€å¼·åˆ¶ç™»å‡ºã€å¯ç–‘æ´»å‹•åµæ¸¬
- âœ… AdminSessionService.ts (170 è¡Œ) - å·¥ä½œéšæ®µç®¡ç†ã€å¼·åˆ¶ç™»å‡ºã€å¯ç–‘æ´»å‹•åµæ¸¬
- âœ… AuditLogger.ts (105 è¡Œ) - å®Œæ•´å¯©è¨ˆæ—¥èªŒè¨˜éŒ„
- âœ… AuditLogViewer.tsx (428 è¡Œ) - å¯©è¨ˆæ—¥èªŒæª¢è¦–ã€ç¯©é¸ã€CSV åŒ¯å‡º
- âœ… ProtectedRoute.tsx (71 è¡Œ) - è§’è‰²åŸºç¤å­˜å–æ§åˆ¶
- âœ… ErrorBoundary.tsx (97 è¡Œ) - éŒ¯èª¤é‚Šç•Œ
- âœ… LoadingSpinner.tsx (76 è¡Œ) - è¼‰å…¥æ—‹è½‰å™¨
- âœ… **adminService.ts** (1,195 è¡Œ) - **æ–°å¢** å®Œæ•´ CRUD æ“ä½œã€LWW è¡çªè§£æ±ºã€é—œä¿‚ç®¡ç†
- âœ… **batchImportService.ts** (474 è¡Œ) - **æ–°å¢** CSV é©—è­‰ã€å…¨éƒ¨æˆ–ç„¡ç­–ç•¥
- âœ… **src/types/admin.ts** (329 è¡Œ) - **æ–°å¢** ç®¡ç†å“¡é¡å‹å®šç¾©ã€æ¬Šé™æ¨¡å‹
- âœ… **NewsletterTable.tsx** (576 è¡Œ) - **æ–°å¢** é›»å­å ±åˆ—è¡¨ã€æ’åºã€ç¯©é¸ã€ç‹€æ…‹å¾½ç« 
- âœ… **AdminDashboardPage.tsx** (210 è¡Œ) - **æ–°å¢** å„€è¡¨æ¿é é¢ã€æ•´åˆ NewsletterTableã€CRUD æ“ä½œ
- âœ… **ArticleForm.tsx** (332 è¡Œ) - **æ–°å¢** æ–‡ç« ç·¨è¼¯è¡¨å–®ã€LWW è¡çªåµæ¸¬ã€åˆ†é¡/å®¶æ—é¸æ“‡

**æ¸¬è©¦è¦†è“‹** (516 è¡Œæ¸¬è©¦):
- âœ… admin-session-management.test.ts (322 è¡Œ) - 6 å€‹ E2E æ¸¬è©¦
- âœ… adminSessionService.test.ts (194 è¡Œ) - 6 å€‹å–®å…ƒæ¸¬è©¦

### å¾…å®Œæˆçš„é—œéµä»»å‹™

**P0 å„ªå…ˆç´š** (å¿…é ˆå®Œæˆ):
1. ~~**T014**~~ âœ… - å®Œæ•´ CSV æ‰¹é‡å°å…¥é©—è­‰é‚è¼¯ (å…¨éƒ¨æˆ–ç„¡ç­–ç•¥) - **å·²å®Œæˆ**
2. ~~**T012**~~ âœ… - adminService.ts åŸºæœ¬ CRUD æ–¹æ³• - **å·²å®Œæˆ**
3. ~~**T004**~~ âœ… - ç®¡ç†å“¡é¡å‹å®šç¾© - **å·²å®Œæˆ**
4. **T017-T023** - NewsletterTable å…ƒä»¶å’Œæ¸¬è©¦ï¼ˆUS1 MVPï¼‰
5. **T024-T031** - ArticleForm å…ƒä»¶å’Œ LWW æ¸¬è©¦ï¼ˆUS2ï¼‰

**P1 å„ªå…ˆç´š** (é«˜):
1. **US3** (T032-T040) - åˆ†é¡èˆ‡å®¶æ—ç®¡ç† (0% é–‹å§‹)
2. **US7** (T069-T076) - ç­ç´šç®¡ç† (0% é–‹å§‹)
3. **T062** - é›»å­éƒµä»¶å”¯ä¸€æ€§é©—è­‰

**P2 å„ªå…ˆç´š** (ä¸­):
1. **US4** (T041-T046) - å»ºç«‹æ–°é›»å­å ±åŠŸèƒ½
2. **US5** (T047-T052) - ç™¼å¸ƒ/å°å­˜é›»å­å ±
3. **US8** (T077-T083) - å®¶é•·-å­¸ç”Ÿé—œä¿‚ç®¡ç†

### å»ºè­°ä¸‹ä¸€æ­¥

**ç«‹å³é–‹å§‹** (æœ¬é€±):
1. å®Œæˆ T014 - CSV æ‰¹é‡å°å…¥é©—è­‰
2. å®Œæˆ T023 - é›»å­å ±è¡¨æ ¼æ¸¬è©¦
3. é–‹å§‹ T032-T040 (US3 - åˆ†é¡ç®¡ç†)

**æ¬¡å‘¨å„ªå…ˆ**:
1. å®Œæˆ US2 çš„ LWW è¡çªè§£æ±º (T029-T031)
2. é–‹å§‹ US7 ç­ç´šç®¡ç† (T069-T076)

**å¾ŒæœŸå„ªå…ˆ**:
1. US4ã€US5 (é›»å­å ±å»ºç«‹èˆ‡ç™¼å¸ƒ)
2. US8 (å®¶é•·-å­¸ç”Ÿé—œä¿‚)
3. Phase 11 Polish (æ€§èƒ½ã€å®‰å…¨ã€æ–‡ä»¶)

---

**ç‹€æ…‹**: é€²è¡Œä¸­ - Phase 1-2 å®Œæˆï¼ŒPhase 3+ é€²è¡Œä¸­
**æœ€å¾Œæ›´æ–°**: 2025-12-04
**å®Œæˆåº¦**: 29-33/97 ä»»å‹™ (30% å®Œæˆ)
